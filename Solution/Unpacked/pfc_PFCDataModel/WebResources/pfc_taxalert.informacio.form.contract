(()=>{"use strict";var t={460:(t,e,r)=>{r.d(e,{lZ:()=>y,ki:()=>n,$g:()=>h,$Q:()=>f,IB:()=>_,$0:()=>g,md:()=>m,OK:()=>c});class n{_formContext;_executionContext;_globalContext;constructor(t,e,r){this._formContext=t,this._executionContext=e,this._globalContext=r,this._globalContext||window.Xrm&&window.Xrm.Utility&&"function"==typeof window.Xrm.Utility.getGlobalContext&&(this._globalContext=Xrm.Utility.getGlobalContext())}get executionContext(){return this._executionContext}get formContext(){return this._formContext}get globalContext(){if(!this._globalContext)throw new Error("Global context does not exists");return this._globalContext}}class i{static generate(){let t=(new Date).getTime(),e=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(r=>{let n=16*Math.random();return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),("x"===r?n:3&n|8).toString(16)}))}static ensureBraces(t){return t.startsWith("{")||(t=`{${t}`),t.endsWith("}")||(t+="}"),t}static ensureNoBraces(t){return t.replace("{","").replace("}","")}}var s,o,a,l,u;!function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error"}(s||(s={}));class c{_formContext;_tabName;constructor(t,e){this._formContext=e,this._tabName=t,this.sections=this.getTabSafe()?.sections??new T([])}getTab(){return this._formContext.ui.tabs.get(this._tabName)}getTabSafe(){try{return this._formContext.ui.tabs.get(this._tabName)}catch(t){return null}}addTabStateChange(t){this.getTab().addTabStateChange(t)}getDisplayState(){return this.getTab().getDisplayState()}getName(){return this.getTab().getName()}getParent(){return this.getTab().getParent()}removeTabStateChange(t){this.getTab().removeTabStateChange(t)}setDisplayState(t){this.getTab().setDisplayState(t)}sections;getLabel(){return this.getTab().getLabel()}setLabel(t){this.getTab().setLabel(t)}setFocus(){this.getTab().setFocus()}setVisible(t){const e=this._formContext.ui.tabs.get(this._tabName);null!=e&&e.setVisible(t)}getVisible(){const t=this._formContext.ui.tabs.get(this._tabName);return null!=t&&t.getVisible()}setCollapsed(t){const e=this._formContext.ui.tabs.get(this._tabName),r=t?"collapsed":"expanded";null!=e&&e.setDisplayState(r)}isCollapsed(){const t=this._formContext.ui.tabs.get(this._tabName);return null!=t&&"collapsed"===t.getDisplayState()}}!function(t){t[t.Undefined=0]="Undefined",t[t.Create=1]="Create",t[t.Update=2]="Update",t[t.ReadOnly=3]="ReadOnly",t[t.Disabled=4]="Disabled",t[t.BulkEdit=6]="BulkEdit",t[t.QuickCreate=5]="QuickCreate",t[t.ReadOptimized=11]="ReadOptimized"}(o||(o={}));class d{static getLookupStringRepresentation(t){if(null==t)return null;const e=d.firstOrDefault(t.getValue());if(null==e)return null;const r=e.id,n=e.name,i=e.entityType;return null!=r?`Lookup(type: ${i}, id: ${r}, name:"${n}")`:null}static getLookupArrayStringRepresentation(t){const e=d.firstOrDefault(t);return null==e?"":d.getLookupStringRepresentation(e)}static getStringRepresentation(t){let e=d.getLookupArrayStringRepresentation(t);return null!==e?e:(e=d.getLookupStringRepresentation(t),null!==e?e:"")}static getLookupIdFromLookup(t){const e=t?.getValue();return e&&e.length>0?e[0].id:null}static getLookupIdFromLookupArray(t){const e=d.firstOrDefault(t);return null==e?null:d.getLookupIdFromLookup(e)}static createLookupArray(t,e,r){const n={id:t,entityType:e,name:r};return{id:n.id,name:n.name,entityType:n.entityType}}static firstOrDefault(t){return null!=t&&t.length>0?t[0]:null}static normalizeId(t){return null!=t?t.replace("{","").replace("}","").toLowerCase():t}}class g{_formContext;_tabName;_sectionName;constructor(t,e,r){this._formContext=r,this._tabName=t,this._sectionName=e,this.controls=this.getSectionSafe()?.controls??new T([])}getSection(){return this.getTab()?.sections.get(this._sectionName)}getSectionSafe(){try{return this.getTab()?.sections.get(this._sectionName)}catch(t){return null}}getTab(){return this._formContext.ui.tabs.get(this._tabName)}getName(){return this.getSection().getName()}getParent(){return this.getSection().getParent()}controls;getLabel(){return this.getSection().getLabel()}setLabel(t){this.getSection().setLabel(t)}setVisible(t){this.getSection().setVisible(t)}getVisible(){return this.getSection()?.getVisible()??!1}}class h{_formContext;_objectId;_formName;_formSelector;_formItem;constructor(t,e){this._formContext=t,this._formName=e,this._formContext&&(this._objectId=this._formContext.data.entity.getId(),this._formSelector=this._formContext.ui.formSelector,this._formItem=this._formSelector.getCurrentItem())}setVisible(t){this._formItem?.setVisible(t)}getId(){return this._formItem?.getId()??""}getLabel(){return this._formItem?.getLabel()??""}navigate(){this._formItem?.navigate()}get formType(){return this._formContext.ui.getFormType()}get objectId(){return this._objectId}get formName(){return this._formName}get formSelector(){return this._formSelector}}!function(t){t.EnableRule="EnableRule",t.RequireRule="RequireRule",t.NotificationRule="NotificationRule",t.DispalyRule="DispalyRule",t.TabCollapsedRule="TabCollapsedRule",t.ValueRule="ValueRule",t.SubscribeRule="SubscribeRule",t.OnSaveRule="OnSaveRule",t.FilterRule="FilterRule"}(a||(a={}));class b extends class{_changeHandlers;_internalId;constructor(){this._changeHandlers=[],this._internalId=i.generate()}registerOnChange(t){this._changeHandlers.push(t)}addOnChange(t){this.registerOnChange(t)}unregisterOnChange(t){const e=this._changeHandlers.indexOf(t);e>=0&&this._changeHandlers.slice(e,1)}removeOnChange(t){this.unregisterOnChange(t)}clearHandlers(){this._changeHandlers=[]}fireOnChange(){for(const t of this._changeHandlers)t(this)}}{_formContext;attributeName;constructor(t,e){super(),this._formContext=e,this.attributeName=t,this.controls=this.getAttributeSafe()?.controls??new T([])}getAttributeType(){return this.getAttribute().getAttributeType()}getFormat(){return this.getAttribute().getFormat()}getIsDirty(){return this.getAttribute().getIsDirty()}getName(){return this.getAttribute().getName()}getParent(){return this.getAttribute().getParent()}getSubmitMode(){return this.getAttribute().getSubmitMode()}getUserPrivilege(){return this.getAttribute().getUserPrivilege()}setSubmitMode(t){this.getAttribute().setSubmitMode(t)}controls;getValue(){return this.getAttribute().getValue()}setValue(t){this.getAttribute().setValue(t)}getAttribute(){return this._formContext.getAttribute(this.attributeName)}getAttributeSafe(){try{return this._formContext.getAttribute(this.attributeName)}catch(t){return null}}control(){return this._formContext.getControl(this.attributeName)}isCreateForm(){return 1===this._formContext.ui.getFormType()}isUpdateForm(){return 2===this._formContext.ui.getFormType()}isReadOnlyForm(){return 3===this._formContext.ui.getFormType()}isDisabledForm(){return 4===this._formContext.ui.getFormType()}isEditableForm(){return this.isCreateForm||this.isUpdateForm}isLockedForm(){return!this.isEditableForm}registerOnChange(t){this.addOnChange(t)}addOnChange(t){this.getAttribute().addOnChange(t)}removeOnChange(t){this.getAttribute().removeOnChange(t)}fireOnChange(){this.getAttribute().fireOnChange()}setDisabled(t){if(!t&&this.isLockedForm())return;this.getAttribute().controls.forEach((e=>{"setDisabled"in e&&e.setDisabled(t)}))}getDisabled(){let t=!0;return this.getAttribute().controls.forEach((e=>{"getDisabled"in e&&(t=t&&e.getDisabled())})),t}getVisible(){const t=this.getAttribute().controls;let e=!0;return t.forEach((t=>{e=e&&t.getVisible()})),e}setVisible(t){this.getAttribute().controls.forEach((e=>{"setVisible"in e&&e.setVisible(t)}))}setValueInternal(t){return this.isLockedForm()?null:this.getAttribute().setValue(t)}setValueInternalIgnoreLockedForm(t){return this.getAttribute().setValue(t)}setValueIgnoreLockedForm(t){this.setValueInternalIgnoreLockedForm(t)}setRequiredLevel(t){this.getAttribute().setRequiredLevel(t)}getRequiredLevel(){return this.getAttribute().getRequiredLevel()}getLabel(){return this.control().getLabel()}setLabel(t){this.getAttribute().controls.forEach((e=>{e.setLabel(t)}))}submitValue(t){this.getAttribute().setSubmitMode(t)}setNotification(t,e){if(this.isLockedForm())return;this.getAttribute().controls.forEach((r=>{"setNotification"in r&&r.setNotification(t,e)}))}clearNotification(t){if(this.isLockedForm())return;this.getAttribute().controls.forEach((e=>{"clearNotification"in e&&e.clearNotification(t)}))}forEachControl(t){this.getAttribute().controls.forEach(t)}setIsValid(t,e){this.getAttribute().setIsValid(t,e)}}class m extends b{constructor(t,e){super(t,e),this.controls=this._getTypedAttribute()?.controls}_getTypedAttribute(){return this.getAttributeSafe()}controls;getFormat(){return this._getTypedAttribute().getFormat()}getMaxLength(){return this._getTypedAttribute().getMaxLength()}setIsValid(t,e){this._getTypedAttribute().setIsValid(t,e)}}class f extends b{constructor(t,e){super(t,e),this.controls=this._getTypedAttribute()?.controls}_getTypedAttribute(){return this.getAttributeSafe()}static buildLookupArray(t){let e;if("string"==typeof t)e=[{id:i.ensureBraces(t)}];else if("object"==typeof t&&"id"in t&&t.id)e=[t],e[0].id=i.ensureBraces(t.id);else{if(!("object"==typeof t&&t instanceof Array&&t.length>0))throw new Error('Invalid Argument Type "value"');e=t,null!=e&&null!=e[0]&&(e[0].id=i.ensureBraces(e[0].id))}return e}controls;getValue(){var t=this._getTypedAttribute().getValue();return null==t||0===t.length?null:t[0]}getLookupId(){const t=this._getTypedAttribute().getValue();return null==t||0===t.length?null:t[0].id}getLookupName(){const t=this._getTypedAttribute().getValue();if(null!=t&&0!==t.length)return t[0].name}setValue(t){const e=t?f.buildLookupArray(t):null;this.setValueInternal(e)}getIsPartyList(){return this._getTypedAttribute().getIsPartyList()}setValueIgnoreLockedForm(t){const e=f.buildLookupArray(t);this.setValueInternalIgnoreLockedForm(e)}setEntityTypes(t){this.control().setEntityTypes(t)}getEntityTypes(){return this.control().getEntityTypes()}addLookupFilter(t,e){const r=`<filter type='and'>\n            <condition attribute='${t}' operator='eq' value='${e}' />\n        </filter>`;this.controls.forEach((t=>{t.addCustomFilter(r)}))}addLookupXMLFilter(t){this.controls.forEach((e=>{e.addCustomFilter(t)}))}setIsValid(t,e){this._getTypedAttribute().setIsValid(t,e)}}class p extends f{constructor(t,e){super(t,e)}}class _ extends p{constructor(t,e){super(t,e)}}class y extends b{constructor(t,e){super(t,e),this.controls=this._getTypedAttribute()?.controls}_getTypedAttribute(){return this.getAttributeSafe()}controls;getFormat(){return this._getTypedAttribute().getFormat()}setIsValid(t,e){this._getTypedAttribute().setIsValid(t,e)}}!function(t){t.Info="INFO",t.Warning="WARNING",t.Error="ERROR"}(l||(l={}));!function(t){t[t.Ascending=0]="Ascending",t[t.Descending=1]="Descending"}(u||(u={}));class C{get filterValue(){return""}}new class extends C{get filterValue(){return" and "}},new class extends C{get filterValue(){return" or "}};var x;!function(t){t[t.Undefined=0]="Undefined",t[t.SelectSingle=1]="SelectSingle",t[t.SelectMultiple=2]="SelectMultiple"}(x||(x={}));class S{_db;constructor(){window.indexedDB&&this.open()}async open(){await new Promise(((t,e)=>{this._db&&t();const r=window.indexedDB.open("dss-cache");r.onerror=t=>{console.error(t),e("Can't open index db database")},r.onblocked=t=>{console.error(t),e("Can't open index db database")},r.onsuccess=e=>{this._db=e?.target.result,t()},r.onupgradeneeded=t=>{const e=t?.target.result;e.objectStoreNames.contains("dss-cache")||e.createObjectStore("dss-cache",{autoIncrement:!1})}}))}async add(t,e){null!=this._db&&await new Promise((r=>{var n=this._db.transaction(["dss-cache"],"readwrite").objectStore("dss-cache").put(e,t);n.onsuccess=()=>{console.log(`[Storage] Stored object in ${t}`),r()},n.onerror=t=>{console.error("[Storage] Can't store value in cache:",t),r()}}))}async get(t){return null==this._db?null:await new Promise((e=>{var r=this._db.transaction(["dss-cache"],"readwrite").objectStore("dss-cache").get(t);r.onsuccess=t=>{e(t?.target.result)},r.onerror=r=>{console.error(`[Storage] Can't retrieve ${t} from cache`,r),e(null)}}))}async delete(t){null!=this._db&&await new Promise((e=>{let r=this._db.transaction(["dss-cache"],"readwrite").objectStore("dss-cache").delete(t);r.onsuccess=()=>{console.log(`[Storage] Deleted key ${t}`),e()},r.onerror=r=>{console.error(`[Storage] Can't delete ${t} from cache`,r),e()}}))}async clear(){null!=this._db&&await new Promise((t=>{const e=this._db.transaction(["dss-cache"],"readwrite").objectStore("dss-cache").clear();e.onsuccess=()=>{console.log("[Storage] Cleared IndexedDB table"),t()},e.onerror=e=>{console.error("[Storage] Can't clear storage",e),t()}}))}}class I{storage;pendingOdataRequest;constructor(){this.storage=new S,this.pendingOdataRequest=new Map}hasPendingResponse(t){return this.pendingOdataRequest.has(t.hash)}getPendingResponse(t){return this.pendingOdataRequest.get(t.hash)}registerPendingRequest(t,e){e.then((()=>{console.log(`[FrontendCache] Deleting pending response: "${t.identifier}"`),this.pendingOdataRequest.delete(t.hash)})),this.pendingOdataRequest.set(t.hash,e)}async addToCache(t){await this._setItem(t.hash,t)}async getCached(t){const e=(new Date).getTime();try{const r=await this.getItemByKey(t.hash);return null!=r&&null!==r.expireOn?r.expireOn>e?r:(console.log(`[FrontendCache] Item Expired: "${t.identifier}"`),await this.storage.delete(t.hash),null):null}catch(t){return null}}async clear(){await this.storage.clear()}async getItemByKey(t){try{const e=await this.storage.get(t);return JSON.parse(e)}catch(t){return null}}async _setItem(t,e){await this.storage.add(t,e),console.log(`[FrontendCache] Saved to Cache: "${e.identifier}"`)}}var w=window;try{w.top.defaultDSSCacheInstance=w.top.defaultDSSCacheInstance,w=window.top}catch(t){}void 0===w.defaultDSSCacheInstance&&(w.defaultDSSCacheInstance=new I);w.defaultDSSCacheInstance;var A;!function(t){t[t.CreatedEntity=0]="CreatedEntity",t[t.RetrieveEntities=1]="RetrieveEntities",t[t.DeletedEntity=2]="DeletedEntity",t[t.UpdatedEntity=3]="UpdatedEntity",t[t.AssociatedEntity=4]="AssociatedEntity",t[t.DisassociatedEntity=5]="DisassociatedEntity"}(A||(A={}));class T{_array;constructor(t){this._array=t}get(t){if(null==t)return this._array;if("number"==typeof t)return this._array[t];if("string"==typeof t){let e=this._array.filter((e=>"function"==typeof e.getName&&e.getName()===t||"function"==typeof e.getKey&&e.getKey()===t));return e.length>0?e[0]:null}}forEach(t){this._array.forEach(t)}getLength(){return this._array.length}}d.normalizeId(i.generate()),d.normalizeId(i.generate()),d.normalizeId(i.generate()),d.normalizeId(i.generate()),d.normalizeId(i.generate()),d.normalizeId(i.generate())},606:(t,e,r)=>{r.d(e,{TaxAlertInformacioFormController:()=>a});var n=r(460);class i extends n.$g{constructor(t){super(t,"Informació"),this.CreatedBy=new n.$Q("createdby",t),this.CreatedOn=new n.lZ("createdon",t),this.ModifiedBy=new n.$Q("modifiedby",t),this.ModifiedOn=new n.lZ("modifiedon",t),this.OwnerId=new n.IB("ownerid",t),this.pfc_description=new n.md("pfc_description",t),this.pfc_name=new n.md("pfc_name",t),this.pfc_obligationfulfillmentid=new n.$Q("pfc_obligationfulfillmentid",t),this.unnamedCheckYourCustomizationTab0=new s("unnamedCheckYourCustomizationTab0",t),this.unnamedCheckYourCustomizationTab0._8f2dc68e57ed4b13951153bc8ed029f6_section_2=new n.$0("unnamedCheckYourCustomizationTab0","{8f2dc68e-57ed-4b13-9511-53bc8ed029f6}_section_2",t),this.tab_2=new o("tab_2",t),this.tab_2.tab_2_section_1=new n.$0("tab_2","tab_2_section_1",t)}}class s extends n.OK{constructor(t,e){super(t,e)}}class o extends n.OK{constructor(t,e){super(t,e)}}class a{constructor(t){this.formContext=t,this.form=new i(this.formContext)}onLoad(){alert("FUNCIONA TYPESCRIPT")}}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{TaxAlertFormContracts:()=>i});var t=r(606),e=r(460);class i{static ensureController(r){const n=new e.ki(r.getFormContext(),r);null==this.controller&&(this.controller=new t.TaxAlertInformacioFormController(n))}static onLoad(t){i.ensureController(t),i.controller.onLoad()}}})();var i=window;for(var s in n)i[s]=n[s];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();